# Python 学习笔记

&emsp;&emsp;Python 是一门诞生于 1990 年（比 1995 年的 Java 早哦）的**强类型** **动态**解释性编程语言。

## 基础语法

&emsp;&emsp;和“C 系列”编程语言不同，Python 有一套自己的语法规范，如无符号、使用缩进确定逻辑关系等。

### 标识符

&emsp;&emsp;Python 的标识符由字母、数字和下划线组成，且必须以字母或下划线开头。其中下划线的使用较为特殊：

> - 单下划线开头的属性和方法不能被导入、不能被直接访问
> - 双下划线开头的为类的私有成员
> - 双下划线开头和结尾的在 Python 中有特殊含义

### 语句与缩进

&emsp;&emsp;Python 没有花括号`{}`，使用缩进来表示语句逻辑。由于没有花括号，使用空行表示类定义、代码块等的结束。

&emsp;&emsp;Python 可以省略分号，但在将多条语句卸载一行内时可以使用分号分隔。

### 引号与注释

&emsp;&emsp;Python 可以使用引号(`'`)、双引号(`"`)、三引号( `'''` 或 `"""` ) 来表示字符串。其中单引号与双引号可互换、三引号可跨行。

&emsp;&emsp;Python 的单行注释以`#`开头，多行注释使用三引号包围。

## 变量与数据类型

&emsp;&emsp;Python 是一门动态强类型语言，动态是因为其运行时才确定各个变量的数据类型，强类型是因为其变量也有数据类型的区别，某些情况下需要手动转换数据类型。

&emsp;&emsp;Python 的变量更像一个“标签”，一个不标明指向数据类型的引用。声明变量不需要指定数据类型，变量可被重新赋不同数据类型的值，可以使用`del`删除对一个变量的引用， GC 会负责删除变量本身。给变量赋值有以下几种方法：

```python
num = 1
a = b = c = 1
foo, bar = 1, 2
```

&emsp;&emsp;Python 内置的数据类型包括数字、字符串、列表、元组、字典等，可以使用`type()`查看变量类型。

### 数字

&emsp;&emsp;Python 的数字包括整型（int）、浮点型（float）和复数（complex），Python3 没有长整型和双精度浮点型，默认支持高精。

```python
a = 3
a8 = 0o70        # Python3中要求使用 0o70，而不是070
a16 = 0x2f
b = 3.14
be = 3e-8
c = 1 + 2j
c2 = complex(1, 2)
```

&emsp;&emsp;有些时候可对数据进行强制类型转换，如：

```python
a = 3.14
b = "3.14"
c = int(a)      # 3
d = float(b)    # 3.14
```

### 字符串

&emsp;&emsp;Python 的字符串使用引号包围，可以使用`[:]`进行切片操作，可以使用`+`和`*`操作：

```python
s = "朱孟璐"
m = '猫猫'
t = '猫猫喜欢喵喵叫'
s + m           # 朱孟璐猫猫
m * 3           # 猫猫猫猫猫猫
s[1:]           # 切片：‘孟璐’
s[-1]           # 下标：‘璐’
t[1:6:2]        # 从1（含）到6（不含）每2个取一个：‘猫欢喵‘
# 左为0，右为-1，左含右不含
```

### 列表

&emsp;&emsp;列表（List）是一种常见的数据类型，使用`[]`将对象按照顺序包起来，可以使用下标、切片、步进切片选中，可对上述选中部分修改：

```python
l = ['猫猫', '每天', "喵喵叫", 5, "次"]
l[3] = 3                       # 猫猫累惹
l[3:3] = [4, "次", "逗狗狗"]    # ['猫猫', '每天', '喵喵叫', 4, '次', '逗狗狗', 3, '次']
# 空切片可插入列表
```

### 元组

&emsp;&emsp;元组（Tuple）和列表很相似，元素使用`()`包裹，但元组不可修改（元组变量可重新赋值）

### 字典

&emsp;&emsp;字段（dict）使用键值对存储数据，数据放在`{}`里：

```python
di = {"k1" : 1, "k2" : 2}
di["k1"] = 4
del di["k2"]
di.keys()
di.values()
di.items()
```

### 集合

&emsp;&emsp;集合（Set）可以看成“没有 value 的字典”，使用`{}`包裹一系列的 key 。

## 运算符

&emsp;&emsp;和 C 系编程语言相比， Python 的运算符还是有不少区别的，这里仅列举和 C 系编程语言不同的运算符

### 算术运算符

| 运算符 | 描述                                      | 举例                                                     |
| :----: | ----------------------------------------- | -------------------------------------------------------- |
|   **   | 幂 - 返回x的y次幂                         | `a**b` 为 10 的 20 次方， 输出结果 100000000000000000000 |
|   //   | 取整除 - 返回商的整数部分（**向下取整**） | `9//2 == 4` ， `-9//2 == -5`                             |

&emsp;&emsp;同理，还有`**=` 和 `//=`

### 逻辑运算符

&emsp;&emsp;Python 的逻辑运算符喜欢用英文

| 运算符 | 逻辑表达式 | 描述                                                         | 实例                    |
| :----: | :--------- | :----------------------------------------------------------- | :---------------------- |
| `and`  | `x and y`  | 布尔"与"：如果 x 为 False，x and y 返回 False，否则它返回 y 的计算值。 | (a and b) 返回 20。     |
|  `or`  | `x or y`   | 布尔"或"：如果 x 是非 0，它返回 x 的计算值，否则它返回 y 的计算值。 | (a or b) 返回 10。      |
| `not`  | `not x`    | 布尔"非"：如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。 | not(a and b) 返回 False |

### 成员运算符

|  运算符  | 描述                                                    | 实例                                              |
| :------: | :------------------------------------------------------ | :------------------------------------------------ |
|   `in`   | 如果在指定的序列中找到值返回 True，否则返回 False。     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True。     |
| `not in` | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。 |

### 身份运算符

&emsp;&emsp;Python 在你还未察觉的情况下也实行了“万物皆对象”，这里的身份运算符用于判断两个对象是否相等。

|  运算符  | 描述                                        | 实例                                                         |
| :------: | :------------------------------------------ | :----------------------------------------------------------- |
|   `is`   | is 是判断两个标识符是不是引用自一个对象     | **x is y**, 类似 **id(x) == id(y)** , 如果引用的是同一个对象则返回 True，否则返回 False |
| `is not` | is not 是判断两个标识符是不是引用自不同对象 | **x is not y** ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。 |

&emsp;&emsp;对于 -5 到 256 的整数，`is` 与 `==`的结果相同：

```python
a = 0
b = 0
while(a is b):
    print(a.__str__() + " is " + b.__str__())
    a += 1
    b += 1

print(a.__str__() + " is not " + b.__str__())

a = 0
b = 0
while(a is b):
    print(a.__str__() + " is " + b.__str__())
    a -= 1
    b -= 1

print(a.__str__() + " is not " + b.__str__())
```

### 运算符优先级

|          运算符          | 描述                                                   |
| :----------------------: | :----------------------------------------------------- |
|            **            | 指数 (最高优先级)                                      |
|          ~ + -           | 按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@) |
|         * / % //         | 乘，除，取模和取整除                                   |
|           + -            | 加法减法                                               |
|          >> <<           | 右移，左移运算符                                       |
|            &             | 位 'AND'                                               |
|           ^ \|           | 位运算符                                               |
|        <= < > >=         | 比较运算符                                             |
|         <> == !=         | 等于运算符                                             |
| = %= /= //= -= += *= **= | 赋值运算符                                             |
|        is is not         | 身份运算符                                             |
|        in not in         | 成员运算符                                             |
|        not and or        | 逻辑运算符                                             |

## 流程控制

### 条件语句

```python
var = "Hello"
if var == "Hello":
    print(var)
    var = "World"
elif 1 is 1:
    print(var)
else:
    print(1 is 1)
    

```

### 循环语句

```python
count = 0
while count < 5:
   print(count, " is  less than 5")
   count = count + 1
else:
   print(count, " is not less than 5")


```

```python
for num in range(10,20):  # 迭代 10 到 20 之间的数字
   for i in range(2,num): # 根据因子迭代
      if num%i == 0:      # 确定第一个因子
         j=num/i          # 计算第二个因子
         print ('%d 等于 %d * %d' % (num,i,j))
         break            # 跳出当前循环
   else:                  # 循环的 else 部分
      print ('%d 是一个质数' % num)

```

&emsp;&emsp;在循环语句中可以使用`break`、`continue`和`pass`，其中`pass`仅为占位符，无任何效果。

## 函数与模块

### 函数的定义与使用

&emsp;&emsp;在 Python 中，函数的定义方式如下：

```python
def myFunc(var0, var1 = 0):
    print(var0.__str__() + " + " + var1.__str__() + " = " + (var0 + var1).__str__())
    print("Haha")
    return var0 + var1

```

&emsp;&emsp;调用函数时，可以按参数列表顺序给出参数，也可~~像 Java 的注解那样~~指定参数赋值，如：

```python
a = myFunc(10, 20)
b = myFunc(var1=1, var0=3)
```

有些函数的参数是不定长的，如：

```python
def sumFunc(x: int, *y:int):
    '''计算 n 个 变量的和
    
    依次将 x 与 y 中的值相加，最后输出结果并返回所得和'''
    for i in y:
        x += i

    print(x)
    return x

sumFunc(1, 2, 3, 4, 5)
```

### 模块

&emsp;&emsp;模块（Module）是可以被重复使用的代码块，保存为一个 py 文件。导入一个模块可以使用`import`：

```python
# 导入一个或多个模块
import math, pymysql
# 导入模块中的部分内容
from math import *
# 导入模块并给出别名
import math as ms
ms.fabs()
```

> 对于第一种和第三种情况，使用包内的函数等时采用`包名.函数名`的方式，第二种情况可直接使用

&emsp;&emsp;可以使用`dir()`获取模块内的所有标识符、使用`globals()`和`locals()`获取当前状态下所有可访问的全局标识符和局部标识符的字典。

&emsp;&emsp;当 py 文件以模块的形式被导入时，`__name__`的值为模块名，当直接运行该py文件时，`__name__`的值为`__main__`。

